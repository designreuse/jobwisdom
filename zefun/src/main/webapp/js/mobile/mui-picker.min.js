!function(a,c,d,e){var f=30,g=90,h=40,i=10,j=a.rad2deg=function(a){return a/(Math.PI/180)},k=(a.deg2rad=function(a){return a*(Math.PI/180)},navigator.platform.toLowerCase()),l=navigator.userAgent.toLowerCase(),m=(l.indexOf("iphone")>-1||l.indexOf("ipad")>-1)&&(k.indexOf("iphone")>-1||k.indexOf("ipad")>-1),n=a.Picker=function(a,b){var c=this;c.holder=a,c.options=b||{},c.init(),c.initInertiaParams(),c.calcElementItemPostion(!0),c.bindEvent()};n.prototype.findElementItems=function(){var a=this;return a.elementItems=[].slice.call(a.holder.querySelectorAll("li")),a.elementItems},n.prototype.init=function(){var a=this;a.list=a.holder.querySelector("ul"),a.findElementItems(),a.height=a.holder.offsetHeight,a.r=a.height/2-i,a.d=2*a.r,a.itemHeight=a.elementItems.length>0?a.elementItems[0].offsetHeight:h,a.itemAngle=parseInt(a.calcAngle(.8*a.itemHeight)),a.hightlightRange=a.itemAngle/2,a.visibleRange=g,a.beginAngle=0,a.beginExceed=a.beginAngle-f,a.list.angle=a.beginAngle,m&&(a.list.style.webkitTransformOrigin="center center "+a.r+"px")},n.prototype.calcElementItemPostion=function(a){var b=this;a&&(b.items=[]),b.elementItems.forEach(function(c){var d=b.elementItems.indexOf(c);if(b.endAngle=b.itemAngle*d,c.angle=b.endAngle,c.style.webkitTransformOrigin="center center -"+b.r+"px",c.style.webkitTransform="translateZ("+b.r+"px) rotateX("+-b.endAngle+"deg)",a){var e={};e.text=c.innerHTML||"",e.value=c.getAttribute("data-value")||e.text,b.items.push(e)}}),b.endExceed=b.endAngle+f,b.calcElementItemVisibility(b.beginAngle)},n.prototype.calcAngle=function(a){var c=this,d=b=parseFloat(c.r);a=Math.abs(a);var e=180*parseInt(a/c.d);a%=c.d;var f=(d*d+b*b-a*a)/(2*d*b),g=e+j(Math.acos(f));return g},n.prototype.calcElementItemVisibility=function(a){var b=this;b.elementItems.forEach(function(c){var d=Math.abs(c.angle-a);d<b.hightlightRange?c.classList.add("highlight"):d<b.visibleRange?(c.classList.add("visible"),c.classList.remove("highlight")):(c.classList.remove("highlight"),c.classList.remove("visible"))})},n.prototype.setAngle=function(a){var b=this;b.list.angle=a,b.list.style.webkitTransform="perspective(1000px) rotateY(0deg) rotateX("+a+"deg)",b.calcElementItemVisibility(a)},n.prototype.bindEvent=function(){var a=this,b=0,c=null;a.holder.addEventListener("touchstart",function(d){d.preventDefault(),a.list.style.webkitTransition="",c=(d.changedTouches?d.changedTouches[0]:d).pageY,b=a.list.angle,a.updateInertiaParams(d,!0)},!1),a.holder.addEventListener("touchend",function(b){b.preventDefault(),a.startInertiaScroll(b)},!1),a.holder.addEventListener("touchcancel",function(b){b.preventDefault(),a.startInertiaScroll(b)},!1),a.holder.addEventListener("touchmove",function(d){d.preventDefault();var e=(d.changedTouches?d.changedTouches[0]:d).pageY,f=e-c,g=a.calcAngle(f),h=f>0?b-g:b+g;h>a.endExceed&&(h=a.endExceed),h<a.beginExceed&&(h=a.beginExceed),a.setAngle(h),a.updateInertiaParams(d)},!1),a.list.addEventListener("tap",function(b){elementItem=b.target,"LI"==elementItem.tagName&&a.setSelectedIndex(a.elementItems.indexOf(elementItem),200)},!1)},n.prototype.initInertiaParams=function(){var a=this;a.lastMoveTime=0,a.lastMoveStart=0,a.stopInertiaMove=!1},n.prototype.updateInertiaParams=function(a,b){var c=this,d=a.changedTouches?a.changedTouches[0]:a;if(b)c.lastMoveStart=d.pageY,c.lastMoveTime=a.timeStamp||Date.now(),c.startAngle=c.list.angle;else{var e=a.timeStamp||Date.now();e-c.lastMoveTime>300&&(c.lastMoveTime=e,c.lastMoveStart=d.pageY)}c.stopInertiaMove=!0},n.prototype.startInertiaScroll=function(a){var b=this,c=a.changedTouches?a.changedTouches[0]:a,d=a.timeStamp||Date.now(),e=(c.pageY-b.lastMoveStart)/(d-b.lastMoveTime),f=e>0?-1:1,g=6e-4*f*-1,h=Math.abs(e/g),i=e*h/2,j=b.list.angle,k=b.calcAngle(i)*f,l=k;return j+k<b.beginExceed&&(k=b.beginExceed-j,h=h*(k/l)*.6),j+k>b.endExceed&&(k=b.endExceed-j,h=h*(k/l)*.6),0==k?void b.endScroll():void b.scrollDistAngle(d,j,k,h)},n.prototype.scrollDistAngle=function(a,b,c,d){var e=this;e.stopInertiaMove=!1,function(a,b,c,d){var f=13,g=d/f,h=0;!function i(){if(!e.stopInertiaMove){var a=e.quartEaseOut(h,b,c,g);return e.setAngle(a),h++,h>g-1||a<e.beginExceed||a>e.endExceed?void e.endScroll():void setTimeout(i,f)}}()}(a,b,c,d)},n.prototype.quartEaseOut=function(a,b,c,d){return-c*((a=a/d-1)*a*a*a-1)+b},n.prototype.endScroll=function(){var a=this;if(a.list.angle<a.beginAngle)a.list.style.webkitTransition="150ms ease-out",a.setAngle(a.beginAngle);else if(a.list.angle>a.endAngle)a.list.style.webkitTransition="150ms ease-out",a.setAngle(a.endAngle);else{var b=parseInt((a.list.angle/a.itemAngle).toFixed(0));a.list.style.webkitTransition="100ms ease-out",a.setAngle(a.itemAngle*b)}a.triggerChange()},n.prototype.triggerChange=function(b){var c=this;setTimeout(function(){var d=c.getSelectedIndex(),e=c.items[d];a.trigger&&(d!=c.lastIndex||b)&&a.trigger(c.holder,"change",{index:d,item:e}),c.lastIndex=d},0)},n.prototype.correctAngle=function(a){var b=this;return a<b.beginAngle?b.beginAngle:a>b.endAngle?b.endAngle:a},n.prototype.setItems=function(a){var b=this;b.items=a||[];var c=[];b.items.forEach(function(a){null!==a&&a!==e&&c.push("<li>"+(a.text||a)+"</li>")}),b.list.innerHTML=c.join(""),b.findElementItems(),b.calcElementItemPostion(),b.setAngle(b.correctAngle(b.list.angle)),b.triggerChange(!0)},n.prototype.getItems=function(){var a=this;return a.items},n.prototype.getSelectedIndex=function(){var a=this;return parseInt((a.list.angle/a.itemAngle).toFixed(0))},n.prototype.setSelectedIndex=function(a,b){var c=this;c.list.style.webkitTransition="";var d=c.correctAngle(c.itemAngle*a);if(b&&b>0){var e=d-c.list.angle;c.scrollDistAngle(Date.now(),c.list.angle,e,b)}else c.setAngle(d);c.triggerChange()},n.prototype.getSelectedItem=function(){var a=this;return a.items[a.getSelectedIndex()]},n.prototype.getSelectedValue=function(){var a=this;return(a.items[a.getSelectedIndex()]||{}).value},n.prototype.getSelectedText=function(){var a=this;return(a.items[a.getSelectedIndex()]||{}).text},n.prototype.setSelectedValue=function(a,b){var c=this;for(var d in c.items){var e=c.items[d];if(e.value==a)return void c.setSelectedIndex(d,b)}},a.fn&&(a.fn.picker=function(a){return this.each(function(b,c){if(!c.picker)if(a)c.picker=new n(c,a);else{var d=c.getAttribute("data-picker-options"),e=d?JSON.parse(d):{};c.picker=new n(c,e)}}),this[0]?this[0].picker:null},a.ready(function(){a(".mui-picker").picker()}))}(window.mui||window,window,document,void 0);